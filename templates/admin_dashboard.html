{% extends 'base.html' %}

{% block content %}
<div class="max-w-7xl mx-auto bg-white p-8 rounded-lg shadow-md my-8">
    <div class="border-b border-gray-200 pb-4 mb-6">
        <h1 class="text-3xl font-bold text-gray-800">Admin Dashboard</h1>
        <p class="text-gray-600 mt-1">General overview of the system.</p>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
        <div class="bg-blue-100 p-6 rounded-md shadow-sm">
            <h2 class="text-xl font-semibold text-blue-700 mb-2">Total Students</h2>
            <p class="text-3xl font-bold text-blue-800">{{ total_students }}</p>
        </div>

        <div class="bg-green-100 p-6 rounded-md shadow-sm">
            <h2 class="text-xl font-semibold text-green-700 mb-2">Total Departments</h2>
            <p class="text-3xl font-bold text-green-800">{{ total_departments }}</p>
        </div>

        <div class="bg-yellow-100 p-6 rounded-md shadow-sm">
            <h2 class="text-xl font-semibold text-yellow-700 mb-2">Total Courses</h2>
            <p class="text-3xl font-bold text-yellow-800">{{ total_courses }}</p>
        </div>
    </div>

    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
        <div class="bg-gray-100 p-6 rounded-md shadow-sm">
            <h2 class="text-xl font-semibold text-gray-700 mb-4">Students by Department</h2>
            {% if students_by_department %}
                <ul class="list-disc list-inside">
                    {% for dept, count in students_by_department %}
                        <li>{{ dept }}: <span class="font-semibold">{{ count }}</span></li>
                    {% endfor %}
                </ul>
            {% else %}
                <p class="text-gray-500">No student data available.</p>
            {% endif %}
        </div>

        <div class="bg-gray-100 p-6 rounded-md shadow-sm">
            <h2 class="text-xl font-semibold text-gray-700 mb-4">Courses by Department</h2>
            {% if courses_by_department %}
                <ul class="list-disc list-inside">
                    {% for dept, count in courses_by_department %}
                        <li>{{ dept }}: <span class="font-semibold">{{ count }}</span></li>
                    {% endfor %}
                </ul>
            {% else %}
                <p class="text-gray-500">No course data available.</p>
            {% endif %}
        </div>
    </div>

    <div class="mt-8">
        <a href="{{ url_for('add_course') }}" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline mr-4">
            Add New Course
        </a>
        <a href="{{ url_for('students_list') }}" class="bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline">
            View All Students
        </a>
        </div>
</div>
{% endblock %}